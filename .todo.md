# TODO

## Update Icon component

Взять иконки из инсты, посмотреть как у них реализована система иконок

## Сделать разные фразы для экрана логирования

## Рефакторинг css -> переписать с использованием нестинга

- Подумать насчёт css-модулей

## Реализовать пользовательскую регистрацию

- Почитать про куки
- Почитать про jwt-token, bcrypt для пароля, sessions

## Добавить aria-label из локалей

## Переписать использование Stores на Context API

- https://svelte.dev/docs/svelte/context
- https://svelte.dev/docs/kit/state-management

## Проверить всё приложение на консистентность кода

- goto
- всегда использовать один контракт, например при ответах от сервера:

  ```js
  return {
    isLoading: false,
    data,
    message,
  };
  ```

- some other code

## Добавить обрабутку ошибок

- Почитать best practices

## Добавить скелетоны (возможно вместо лоадеров/спиннеров)

## Добавить серверную валидацию при регистрации

- Что бы избежать дублирования возможно стоит сделать сервис-класс с методами валидации

## Refactoring

# Archive

- TODO Add validation messages
  // TODO Think about base64 encoding and about another flow
  // https://medium.com/@sandeepkella23/why-you-should-avoid-base64-for-image-conversion-in-apis-c8d77830bfd8

============
// TODO Use cookie signup_session_id to send to node server and create avatar with it
// TODO Later on "confirm" page we send other info plus cookie signup_session_id
// check for avatar existense by ssid, grab it and associate with new user

    // TODO If no image provided then create default one with sharp
    // use exif to add picture location on prublication

// result.avatarUrl = avatarUrl;

// TODO Add server validation here only
// (svelte) Check for headers and metadata (type.mime)
// (svelte) Check for file size (file.size)
// (svelte) Check for image resolution (npm i image-size or sharp)
// (svelte) Remove "exif" data
// (svelte) Convert image (sharp)
// (node) Rename file with crypto.randomUUID
// (node) Save to data directory
//
// https://sharp.pixelplumbing.com/api-input/
// https://chatgpt.com/c/685056f5-b624-8002-94e0-d6499198222c
// https://stackoverflow.com/questions/33279153/rest-api-file-ie-images-processing-best-practices
============
